<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warranty Management App</title>
    <!-- Use Tailwind CSS for a modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        /* Base page styles for smooth transitions */
        .page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            min-height: 100vh;
            transition: opacity 0.4s ease-in-out, visibility 0.4s ease-in-out;
            visibility: hidden;
            opacity: 0;
        }
        .page.page-current {
            visibility: visible;
            opacity: 1;
            z-index: 10;
        }
        
        /* New Transition Styles for form sections */
        #creationPage .form-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        #creationPage.page-current .form-section {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Floating Action Button Style & Transition */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
            z-index: 30;
        }
        .fab-hidden {
            transform: scale(0.5);
            opacity: 0;
        }
        
        /* Header transition for creation page */
        #creationPage header {
            transform: translateY(-100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        #creationPage.page-current header {
            transform: translateY(0);
        }
    </style>
</head>
<body class="bg-gray-100 overflow-x-hidden">

    <div class="relative mx-auto w-full min-h-screen">

    <!-- =================================================================
         HOME PAGE
    ================================================================== -->
    <div id="homePage" class="page page-current">
        <header class="bg-white sticky top-0 z-20 shadow-lg">
            <div class="max-w-xl mx-auto p-4 md:p-6">
                <h1 class="text-3xl font-bold text-slate-800 text-left">Warranty Claims</h1>
            </div>
        </header>

        <main class="max-w-xl mx-auto p-4 md:p-6 pb-28">
            <!-- Search bar and filter controls -->
            <div class="flex items-center space-x-4 mb-6">
                <div class="relative flex-grow">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" /></svg>
                    </div>
                    <input type="text" id="globalSearch" placeholder="Search claims..." class="w-full bg-white border border-gray-300 rounded-full py-2.5 pl-10 pr-4 text-slate-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors">
                </div>
                <div class="relative">
                    <select id="statusFilter" class="block w-full bg-white border border-gray-300 rounded-full py-2.5 px-4 pr-8 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors appearance-none">
                        <option value="all">All Statuses</option>
                        <option value="approved">Approved</option>
                        <option value="pending">Pending</option>
                        <option value="rejected">Rejected</option>
                        <option value="draft">Draft</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                        <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                    </div>
                </div>
            </div>

            <div id="claimList" class="space-y-4">
                <!-- Claim cards with enhanced styling -->
                <div class="claim-card bg-white p-5 rounded-xl shadow-md border border-gray-200 cursor-pointer hover:border-indigo-500 transition-all duration-200" onclick="showClaimDetails({id: 'W-102345', title: 'Crankshaft Assembly', type: 'Automotive', date: '2025-08-01', status: 'Approved', customer: 'Customer A', description: 'Customer states the engine is making a loud knocking sound and has lost power.', vin: '1A2B3C4D5E6F7G8H9', model: 'Model X', mileage: '55,000 miles', warrantyStart: '2024-05-15', dealer: 'Auto Zone', dealerLocation: 'Springfield'})" data-search-terms="crankshaft assembly w-102345 automotive approved"><div class="flex justify-between items-start"><div><p class="font-semibold text-slate-900">Crankshaft Assembly</p><p class="text-sm text-gray-500 mt-1">Claim # W-102345</p></div><span class="text-xs font-bold bg-green-100 text-green-800 px-3 py-1 rounded-full uppercase tracking-wider">Approved</span></div><div class="mt-4 flex justify-between items-center text-sm text-gray-600"><span><strong class="font-medium text-slate-500">Type:</strong> Automotive</span><span><strong class="font-medium text-slate-500">Date:</strong> 2025-08-01</span></div></div>
                <div class="claim-card bg-white p-5 rounded-xl shadow-md border border-gray-200 cursor-pointer hover:border-indigo-500 transition-all duration-200" onclick="showClaimDetails({id: 'W-102344', title: 'Industrial Motor', type: 'Non-Automotive', date: '2025-07-29', status: 'Pending', customer: 'Customer B', description: 'Motor is overheating and shutting down after 30 minutes of use.', vin: 'N/A', model: 'Heavy Duty 500', mileage: '1,200 hours', warrantyStart: '2023-11-20', dealer: 'Industrial Supply Co.', dealerLocation: 'Shelbyville'})" data-search-terms="industrial motor w-102344 non-automotive pending"><div class="flex justify-between items-start"><div><p class="font-semibold text-slate-900">Industrial Motor</p><p class="text-sm text-gray-500 mt-1">Claim # W-102344</p></div><span class="text-xs font-bold bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full uppercase tracking-wider">Pending</span></div><div class="mt-4 flex justify-between items-center text-sm text-gray-600"><span><strong class="font-medium text-slate-500">Type:</strong> Non-Automotive</span><span><strong class="font-medium text-slate-500">Date:</strong> 2025-07-29</span></div></div>
                <div class="claim-card bg-white p-5 rounded-xl shadow-md border border-gray-200 cursor-pointer hover:border-indigo-500 transition-all duration-200" onclick="showClaimDetails({id: 'W-102342', title: 'Fuel Injector', type: 'Automotive', date: '2025-07-25', status: 'Rejected', customer: 'Customer C', description: 'Vehicle is misfiring. Diagnosis points to a clogged fuel injector.', vin: '9H8G7F6E5D4C3B2A1', model: 'Sedan Z', mileage: '95,000 miles', warrantyStart: '2021-03-01', dealer: 'Town Motors', dealerLocation: 'Capital City'})" data-search-terms="fuel injector w-102342 automotive rejected"><div class="flex justify-between items-start"><div><p class="font-semibold text-slate-900">Fuel Injector</p><p class="text-sm text-gray-500 mt-1">Claim # W-102342</p></div><span class="text-xs font-bold bg-red-100 text-red-800 px-3 py-1 rounded-full uppercase tracking-wider">Rejected</span></div><div class="mt-4 flex justify-between items-center text-sm text-gray-600"><span><strong class="font-medium text-slate-500">Type:</strong> Automotive</span><span><strong class="font-medium text-slate-500">Date:</strong> 2025-07-25</span></div></div>
                <div class="claim-card bg-white p-5 rounded-xl shadow-md border border-gray-200 cursor-pointer hover:border-indigo-500 transition-all duration-200" onclick="showClaimDetails({id: 'W-102340', title: 'Water Pump', type: 'Automotive', date: '2025-07-23', status: 'Draft', customer: 'Customer D', description: 'Leak found in the engine bay, source appears to be the water pump.', vin: 'B1B2C3D4E5F6G7H8I', model: 'Truck Y', mileage: '48,000 miles', warrantyStart: '2025-01-10', dealer: 'River City Auto', dealerLocation: 'Riverdale'})" data-search-terms="water pump w-102340 automotive draft"><div class="flex justify-between items-start"><div><p class="font-semibold text-slate-900">Water Pump</p><p class="text-sm text-gray-500 mt-1">Claim # W-102340</p></div><span class="text-xs font-bold bg-gray-100 text-gray-800 px-3 py-1 rounded-full uppercase tracking-wider">Draft</span></div><div class="mt-4 flex justify-between items-center text-sm text-gray-600"><span><strong class="font-medium text-slate-500">Type:</strong> Automotive</span><span><strong class="font-medium text-slate-500">Date:</strong> 2025-07-23</span></div></div>
            </div>
            <!-- Enhanced Empty State Message -->
            <div id="noResultsMessage" class="hidden text-center py-20 px-4">
                <svg class="mx-auto h-16 w-16 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <p class="mt-4 text-gray-600 font-semibold text-lg">No claims found</p>
                <p class="mt-1 text-sm text-gray-400">Try adjusting your search or creating a new claim.</p>
            </div>
        </main>
    </div>

    <!-- Floating Action Button to Add New Claim -->
    <button id="fab" onclick="showPage('creationPage')" class="fab bg-gradient-to-br from-indigo-500 to-indigo-700 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-xl hover:shadow-2xl hover:scale-105 transform transition-all duration-200">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
    </button>

    <!-- =================================================================
         WARRANTY CLAIM CREATION PAGE
    ================================================================== -->
    <div id="creationPage" class="page">
        <header class="bg-white shadow-lg sticky top-0 z-20">
            <div class="max-w-xl mx-auto p-4 md:p-6 flex items-center">
                <button onclick="showPage('homePage')" class="text-gray-500 mr-2 p-2 rounded-full hover:bg-gray-100 hover:text-indigo-600 transition-colors">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                </button>
                <h1 class="text-xl font-bold text-slate-800">Create New Claim</h1>
            </div>
        </header>

        <main class="max-w-xl mx-auto p-4 md:p-6 pb-24">
            <form id="warrantyForm" class="space-y-6">

                <!-- Conditional Fields Wrapper for Automotive -->
                <div id="automotiveFormSections" class="space-y-6">
                    <!-- Section 1: Basic Details (Automotive Specific) -->
                    <div class="form-section bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                        <h2 class="text-lg font-semibold text-slate-800 flex items-center"><span class="bg-indigo-500 text-white rounded-full h-7 w-7 text-sm flex items-center justify-center mr-3">1</span>Basic Details</h2>
                        <div class="mt-5 space-y-5">
                            <div>
                                <label for="warrantyClaimNumber" class="block text-sm font-medium text-gray-700 mb-1">Warranty Claim Number</label>
                                <p id="warrantyClaimNumber" class="mt-1 block w-full bg-gray-50 border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 select-none">WC-AUTO-001</p>
                            </div>
                            <div>
                                <label for="customer" class="block text-sm font-medium text-gray-700 mb-1">Customer <span class="text-red-500">*</span></label>
                                <select id="customer" name="customer" class="mt-1 block w-full bg-white border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" required>
                                    <option value="">Select Customer</option>
                                    <option value="Customer A">Customer A</option>
                                    <option value="Customer B">Customer B</option>
                                    <option value="Customer C">Customer C</option>
                                </select>
                            </div>
                            <div>
                                <label for="warrantyName" class="block text-sm font-medium text-gray-700 mb-1">Warranty Name <span class="text-red-500">*</span></label>
                                <input type="text" id="warrantyName" name="warrantyName" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" required>
                            </div>
                            <div>
                                <label for="customerReportedDate" class="block text-sm font-medium text-gray-700 mb-1">Customer Reported Date <span class="text-red-500">*</span></label>
                                <input type="date" id="customerReportedDate" name="customerReportedDate" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" required>
                            </div>
                            <div>
                                <label for="defectType" class="block text-sm font-medium text-gray-700 mb-1">Defect Type <span class="text-red-500">*</span></label>
                                <select id="defectType" name="defectType" class="mt-1 block w-full bg-white border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" required>
                                    <option value="">Select Defect</option>
                                    <option value="Manufacturing">Manufacturing</option>
                                    <option value="Material">Material</option>
                                    <option value="Wear and Tear">Wear and Tear</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div>
                                <label for="createdBy" class="block text-sm font-medium text-gray-700 mb-1">Created by</label>
                                <p id="createdBy" class="mt-1 block w-full bg-gray-50 border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 select-none">Logged In User Name</p>
                            </div>
                            <div>
                                <label for="customerVerbatim" class="block text-sm font-medium text-gray-700 mb-1">Customer Verbatim / Complaint Description <span class="text-red-500">*</span></label>
                                <textarea id="customerVerbatim" name="customerVerbatim" rows="4" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" placeholder="Enter the customer's exact words describing the issue..." required></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Section 2: Reference Images -->
                    <div class="form-section bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                        <h2 class="text-lg font-semibold text-slate-800 flex items-center"><span class="bg-indigo-500 text-white rounded-full h-7 w-7 text-sm flex items-center justify-center mr-3">2</span>Reference Images</h2>
                        <div class="mt-5 grid grid-cols-1 sm:grid-cols-2 gap-5">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 text-center">Good / Working Part</label>
                                <div class="mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-xl">
                                    <div class="space-y-1 text-center">
                                        <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true"><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
                                        <div class="flex text-sm text-gray-600">
                                            <label for="good-part-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500"><span>Choose image</span><input id="good-part-upload" name="good-part-upload" type="file" class="sr-only"></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 text-center">Bad / Failed Part <span class="text-red-500">*</span></label>
                                <div class="mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-xl">
                                    <div class="space-y-1 text-center">
                                        <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true"><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
                                        <div class="flex text-sm text-gray-600">
                                            <label for="bad-part-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500"><span>Choose image</span><input id="bad-part-upload" name="bad-part-upload" type="file" class="sr-only" required></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 3: Dealer Details -->
                    <div class="form-section bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                        <h2 class="text-lg font-semibold text-slate-800 flex items-center"><span class="bg-indigo-500 text-white rounded-full h-7 w-7 text-sm flex items-center justify-center mr-3">3</span>Dealer Details</h2>
                        <div class="mt-5 space-y-5">
                            <div>
                                <label for="dealerName" class="block text-sm font-medium text-gray-700 mb-1">Dealer Name <span class="text-red-500">*</span></label>
                                <input type="text" id="dealerName" name="dealerName" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" required>
                            </div>
                            <div>
                                <label for="dealerLocation" class="block text-sm font-medium text-gray-700 mb-1">Dealer Location <span class="text-red-500">*</span></label>
                                <input type="text" id="dealerLocation" name="dealerLocation" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" required>
                            </div>
                        </div>
                    </div>

                    <!-- Section 4: Vehicle Information -->
                    <div class="form-section bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                        <h2 class="text-lg font-semibold text-slate-800 flex items-center"><span class="bg-indigo-500 text-white rounded-full h-7 w-7 text-sm flex items-center justify-center mr-3">4</span>Vehicle Information</h2>
                        <div class="mt-5 space-y-5">
                            <div>
                                <label for="vinNumber" class="block text-sm font-medium text-gray-700 mb-1">VIN Number <span class="text-red-500">*</span></label>
                                <input type="text" id="vinNumber" name="vinNumber" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" required>
                            </div>
                            <div>
                                <label for="vehicleModel" class="block text-sm font-medium text-gray-700 mb-1">Vehicle Model <span class="text-red-500">*</span></label>
                                <input type="text" id="vehicleModel" name="vehicleModel" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" required>
                            </div>
                            <div>
                                <label for="year" class="block text-sm font-medium text-gray-700 mb-1">Year</label>
                                <input type="number" id="year" name="year" min="1900" max="2100" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors">
                            </div>
                            <div>
                                <label for="mileage" class="block text-sm font-medium text-gray-700 mb-1">Mileage <span class="text-red-500">*</span></label>
                                <input type="number" id="mileage" name="mileage" min="0" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" required>
                            </div>
                            <div>
                                <label for="warrantyStartDate" class="block text-sm font-medium text-gray-700 mb-1">Warranty Start Date <span class="text-red-500">*</span></label>
                                <input type="date" id="warrantyStartDate" name="warrantyStartDate" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-3 px-3 text-base text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" required>
                            </div>
                        </div>
                    </div>

                    <!-- Section 5: Attachments (New) -->
                    <div class="form-section bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                        <h2 class="text-lg font-semibold text-slate-800 flex items-center"><span class="bg-indigo-500 text-white rounded-full h-7 w-7 text-sm flex items-center justify-center mr-3">5</span>Attachments</h2>
                        <div class="mt-5 space-y-5">
                            <div>
                                <label for="attachments" class="block text-sm font-medium text-gray-700 mb-1">Upload Additional Files</label>
                                <div class="mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-xl">
                                    <div class="space-y-1 text-center">
                                        <svg class="mx-auto h-12 w-12 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z" />
                                        </svg>
                                        <div class="flex text-sm text-gray-600">
                                            <label for="attachments-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500">
                                                <span>Choose files</span>
                                                <input id="attachments-upload" name="attachments-upload[]" type="file" class="sr-only" multiple>
                                            </label>
                                            <p class="pl-1">or drag and drop</p>
                                        </div>
                                        <p class="text-xs text-gray-500">PDF, DOC, JPG, PNG up to 10MB</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Shared Submit Button -->
                <div id="submitButtonWrapper" class="py-4">
                    <button type="submit" class="w-full bg-gradient-to-br from-indigo-500 to-indigo-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.01] transform transition-all duration-200">
                        Submit Claim
                    </button>
                </div>
            </form>
        </main>
    </div>
    
    <!-- =================================================================
         CLAIM DETAILS PAGE
    ================================================================== -->
    <div id="claimDetailsPage" class="page">
        <header class="bg-white shadow-lg sticky top-0 z-20">
            <div class="max-w-xl mx-auto p-4 md:p-6 flex items-center">
                <button onclick="showPage('homePage')" class="text-gray-500 mr-2 p-2 rounded-full hover:bg-gray-100 hover:text-indigo-600 transition-colors">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                </button>
                <h1 class="text-xl font-bold text-slate-800" id="claimTitle">Claim Details</h1>
            </div>
        </header>
        <main class="max-w-xl mx-auto p-4 md:p-6 pb-24 space-y-6">
            
            <!-- Section 1: Basic Details -->
            <div class="form-section bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                    <span class="bg-indigo-500 text-white rounded-full h-7 w-7 text-sm flex items-center justify-center mr-3">1</span>
                    Basic Details
                </h2>
                <div class="mt-5 space-y-5">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="text-sm font-medium text-gray-700">Claim Number</p>
                            <p id="claimId" class="text-lg font-bold text-slate-800">#W-102345</p>
                        </div>
                        <span id="claimStatus" class="text-sm font-bold bg-green-100 text-green-800 px-3 py-1 rounded-full uppercase tracking-wider">Approved</span>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-700">Customer</p>
                        <p id="claimCustomer" class="mt-1 block w-full bg-gray-50 rounded-lg py-3 px-3 text-base text-gray-700">Customer A</p>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-700">Item</p>
                        <p id="claimItem" class="mt-1 block w-full bg-gray-50 rounded-lg py-3 px-3 text-base text-gray-700">Crankshaft Assembly</p>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-700">Date Submitted</p>
                        <p id="claimDate" class="mt-1 block w-full bg-gray-50 rounded-lg py-3 px-3 text-base text-gray-700">2025-08-01</p>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-700">Complaint Description</p>
                        <p id="claimDescription" class="mt-1 block w-full bg-gray-50 rounded-lg py-3 px-3 text-base text-gray-700">Customer states the engine is making a loud knocking sound and has lost power.</p>
                    </div>
                </div>
            </div>

            <!-- Section 2: Reference Images -->
            <div class="form-section bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                    <span class="bg-indigo-500 text-white rounded-full h-7 w-7 text-sm flex items-center justify-center mr-3">2</span>
                    Reference Images
                </h2>
                <div class="mt-5 grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div class="bg-gray-100 rounded-lg p-4 text-center text-gray-500 flex items-center justify-center min-h-[150px]">
                        Good Part Image
                    </div>
                    <div class="bg-gray-100 rounded-lg p-4 text-center text-gray-500 flex items-center justify-center min-h-[150px]">
                        Bad Part Image
                    </div>
                </div>
            </div>

            <!-- Section 3: Dealer Details -->
            <div class="form-section bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                    <span class="bg-indigo-500 text-white rounded-full h-7 w-7 text-sm flex items-center justify-center mr-3">3</span>
                    Dealer Details
                </h2>
                <div class="mt-5 space-y-5">
                    <div>
                        <p class="text-sm font-medium text-gray-700">Dealer Name</p>
                        <p id="claimDealer" class="mt-1 block w-full bg-gray-50 rounded-lg py-3 px-3 text-base text-gray-700">Auto Zone</p>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-700">Dealer Location</p>
                        <p id="claimDealerLocation" class="mt-1 block w-full bg-gray-50 rounded-lg py-3 px-3 text-base text-gray-700">Springfield</p>
                    </div>
                </div>
            </div>

            <!-- Section 4: Vehicle Information -->
            <div class="form-section bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                    <span class="bg-indigo-500 text-white rounded-full h-7 w-7 text-sm flex items-center justify-center mr-3">4</span>
                    Vehicle Information
                </h2>
                <div class="mt-5 space-y-5">
                    <div>
                        <p class="text-sm font-medium text-gray-700">VIN Number</p>
                        <p id="claimVin" class="mt-1 block w-full bg-gray-50 rounded-lg py-3 px-3 text-base text-gray-700">1A2B3C4D5E6F7G8H9</p>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-700">Vehicle Model</p>
                        <p id="claimModel" class="mt-1 block w-full bg-gray-50 rounded-lg py-3 px-3 text-base text-gray-700">Model X</p>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-700">Mileage</p>
                        <p id="claimMileage" class="mt-1 block w-full bg-gray-50 rounded-lg py-3 px-3 text-base text-gray-700">55,000 miles</p>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-700">Warranty Start Date</p>
                        <p id="claimWarrantyStart" class="mt-1 block w-full bg-gray-50 rounded-lg py-3 px-3 text-base text-gray-700">2024-05-15</p>
                    </div>
                </div>
            </div>

            <!-- Section 5: Attachments -->
            <div class="form-section bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                    <span class="bg-indigo-500 text-white rounded-full h-7 w-7 text-sm flex items-center justify-center mr-3">5</span>
                    Attachments
                </h2>
                <div class="mt-5 bg-gray-100 rounded-lg p-4 text-center text-gray-500 flex items-center justify-center min-h-[150px]">
                    No additional attachments for this claim.
                </div>
            </div>

        </main>
    </div>

    <!-- =================================================================
         MODAL
    ================================================================== -->
    <!-- Modal for displaying messages -->
    <div id="messageModal" class="fixed inset-0 z-50 overflow-y-auto hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!-- Background overlay -->
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>
            <!-- Modal Content -->
            <div id="modalContent" class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full scale-95 opacity-0">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10">
                            <svg class="h-6 w-6 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                            </svg>
                        </div>
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                            <h3 class="text-lg leading-6 font-medium text-gray-900" id="modalTitle"></h3>
                            <div class="mt-2">
                                <p class="text-sm text-gray-500" id="modalMessage"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="button" id="okButton" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm transition-colors">
                        OK
                    </button>
                </div>
            </div>
        </div>
    </div>

    </div>

    <!-- =================================================================
         JAVASCRIPT
    ================================================================== -->
    <script>
        // --- Page Navigation Logic ---
        const pages = document.querySelectorAll('.page');
        const fab = document.getElementById('fab');

        function showPage(pageId) {
            pages.forEach(page => {
                page.classList.remove('page-current');
            });
            const currentPage = document.getElementById(pageId);
            if (currentPage) {
                currentPage.classList.add('page-current');
            }

            // Show/hide FAB based on the current page
            if (pageId === 'homePage') {
                fab.classList.remove('fab-hidden');
            } else {
                fab.classList.add('fab-hidden');
            }
        }
        
        // --- Search functionality for the home page ---
        const globalSearchInput = document.getElementById('globalSearch');
        const statusFilterSelect = document.getElementById('statusFilter');
        const claimListContainer = document.getElementById('claimList');
        const claimCards = document.querySelectorAll('.claim-card');
        const noResultsMessage = document.getElementById('noResultsMessage');

        // Function to filter claims based on both search and status
        function filterClaims() {
            const searchTerm = globalSearchInput.value.toLowerCase().trim();
            const selectedStatus = statusFilterSelect.value;
            let claimsFound = false;

            claimCards.forEach(card => {
                const searchTerms = card.getAttribute('data-search-terms').toLowerCase();
                const cardStatus = card.querySelector('span').textContent.toLowerCase().trim();
                
                const matchesSearch = searchTerms.includes(searchTerm);
                const matchesStatus = (selectedStatus === 'all' || cardStatus === selectedStatus);

                // Show the card only if it matches both criteria
                if (matchesSearch && matchesStatus) {
                    card.style.display = ''; // Show the card
                    claimsFound = true;
                } else {
                    card.style.display = 'none'; // Hide the card
                }
            });

            // Show the "no results" message if no cards are visible
            if (claimsFound) {
                noResultsMessage.classList.add('hidden');
            } else {
                noResultsMessage.classList.remove('hidden');
            }
        }
        
        // Listen for input events on the search bar
        globalSearchInput.addEventListener('input', filterClaims);

        // Listen for change events on the status filter
        statusFilterSelect.addEventListener('change', filterClaims);


        // --- Form Logic ---
        const warrantyForm = document.getElementById('warrantyForm');
        
        // Reset form on "create new" button click
        document.getElementById('fab').addEventListener('click', () => {
            warrantyForm.reset();
            // Also reset the search and filter when returning to the home page
            globalSearchInput.value = '';
            statusFilterSelect.value = 'all';
            filterClaims();
        });
        
        // Form submission handler
        warrantyForm.addEventListener('submit', (event) => {
            event.preventDefault(); // Prevent default form submission
            
            // Here you would handle the form data, e.g., send it to a server
            // For now, we'll just show a success message.
            const formData = new FormData(warrantyForm);
            const data = Object.fromEntries(formData.entries());
            console.log(data); // Log the form data for demonstration

            // Show success modal
            showModal('Claim Submitted!', 'Your warranty claim has been successfully submitted.');
        });
        
        // --- Claim Details Page Logic ---
        const claimTitleEl = document.getElementById('claimTitle');
        const claimIdEl = document.getElementById('claimId');
        const claimStatusEl = document.getElementById('claimStatus');
        const claimDescriptionEl = document.getElementById('claimDescription');
        const claimItemEl = document.getElementById('claimItem');
        const claimDateEl = document.getElementById('claimDate');
        const claimCustomerEl = document.getElementById('claimCustomer');
        const claimDealerEl = document.getElementById('claimDealer');
        const claimDealerLocationEl = document.getElementById('claimDealerLocation');
        const claimVinEl = document.getElementById('claimVin');
        const claimModelEl = document.getElementById('claimModel');
        const claimMileageEl = document.getElementById('claimMileage');
        const claimWarrantyStartEl = document.getElementById('claimWarrantyStart');

        function showClaimDetails(claimData) {
            // Update the title and content of the details page based on the clicked claim
            claimTitleEl.textContent = `Claim Details`;
            claimIdEl.textContent = `#${claimData.id}`;
            claimStatusEl.textContent = claimData.status;
            claimDescriptionEl.textContent = claimData.description;
            claimItemEl.textContent = claimData.title;
            claimDateEl.textContent = claimData.date;
            claimCustomerEl.textContent = claimData.customer;
            claimDealerEl.textContent = claimData.dealer;
            claimDealerLocationEl.textContent = claimData.dealerLocation;
            claimVinEl.textContent = claimData.vin;
            claimModelEl.textContent = claimData.model;
            claimMileageEl.textContent = claimData.mileage;
            claimWarrantyStartEl.textContent = claimData.warrantyStart;

            // Change status label colors dynamically
            claimStatusEl.className = 'text-sm font-bold px-3 py-1 rounded-full uppercase tracking-wider';
            switch (claimData.status.toLowerCase()) {
                case 'approved':
                    claimStatusEl.classList.add('bg-green-100', 'text-green-800');
                    break;
                case 'pending':
                    claimStatusEl.classList.add('bg-yellow-100', 'text-yellow-800');
                    break;
                case 'rejected':
                    claimStatusEl.classList.add('bg-red-100', 'text-red-800');
                    break;
                case 'draft':
                    claimStatusEl.classList.add('bg-gray-100', 'text-gray-800');
                    break;
            }

            // Show the new details page
            showPage('claimDetailsPage');
        }

        // --- Modal Logic ---
        const modal = document.getElementById('messageModal');
        const okButton = document.getElementById('okButton');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const modalContent = document.getElementById('modalContent');

        function showModal(title, message) {
            modalTitle.textContent = title;
            modalMessage.textContent = message;
            modal.classList.remove('hidden');
            // Animate modal content
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
            }, 10);
        }

        okButton.addEventListener('click', () => {
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                showPage('homePage');
            }, 300); // Wait for the transition to complete
        });

        // --- View Claim Details (Placeholder) ---
        // The original viewClaimDetails function has been replaced with the new showClaimDetails.
    </script>
</body>
</html>
